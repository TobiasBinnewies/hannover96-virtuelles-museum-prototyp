import './globals.css'
import { Inter } from 'next/font/google'
import Navbar from '@components/navbar/Navbar'
import Image from 'next/image'
import { getImages } from '@/services/backend/section-images'
// import { getUserAuth } from '@/services/backend/auth'
import { getSession } from '@/services/backend/session'

const font = Inter({ subsets: ['latin'] })

export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default async function RootLayout(props) {
  const images = await getImages('all')
  const session = await getSession()

  props.params.images = images
  props.params.session = session

  return (
    <html lang="en">
      <body className={font.className}>
        <Navbar
          session={session}
          buttons={[
            {
              title: 'Timeline',
              destination: '/profile',
              icon: 'reel-svgrepo-com.svg',
            },
            {
              title: 'Images',
              destination: '/section-images',
              icon: 'gallery-send-svgrepo-com.svg',
            },
            {
              title: 'Matterport',
              destination: 'Link',
              icon: 'monitor-camera-svgrepo-com.svg',
            },
          ]}
          style={{ position: 'sticky' }}
        />
        {props.children}
      </body>
    </html>
  )
}
